# 6. 객체와 자료 구조

- 변수를 비공개(`private`)로 정의하는 이유가 있다. 남들이 변수에 의존하지 않게 만들고 싶어서다.

### 자료 추상화

- 구현을 감추기 위해 추상화가 필요하다
  - 변수만 감춘다고 구현이 감춰지진 않는다
  - 변수 사이에 함수라는 계층을 넣는다고 구현이 감춰지진 않는다
- 추상 인터페이스를 제공해 사용자가 구현을 모른 채 자료의 핵심을 조작할 수 있어야 진정한 의미의 클래스다

<br />

### 자료/객체 비대칭

- 객체는 추상화 뒤로 자료를 숨긴 채 자료를 다루는 함수만 공개한다
- 자료구조는 자료를 그대로 공개하며 별다른 함수를 제공하지 않는다
- 복잡한 시스템을 짜다 보면 새로운 함수가 아니라 새로운 자료 타입이 필요한 경우가 생긴다
  - 이때는 클래스와 객체 지향 기법이 가장 적합하다
- 반면, 새로운 자료 타입이 아니라 새로운 함수가 필요한 경우도 생긴다
  - 이때는 절차적인 코드와 자료 구조가 좀 더 적합하다

<br />

### 디미터 법칙

- 디미터 법칙은 잘 알려진 휴리스틱(`heuristic`)으로 모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다는 법칙이다
  - 객체는 조회 함수로 내부 구조를 공개하면 안된다는 의미다
  - 객체에서 허용된 메서드가 반환하는 객체의 메서드는 호출하면 안 된다.
    - 다시 말해, 낯선 사람은 경계하고 칭구랑만 놀라는 의미다

#### ■ 기차 충돌

#### ■ 잡종 구조

#### ■ 구조체 숨기기

<br />

### 자료 전달 객체

- 자료 구조체의 전형적인 형태는 공개 변수만 있고 함수가 없는 클래스다
  - 이런 자료 구조체를 때로는 자료 전달 객체(`Data Transfer Object, DTO`)라 한다

#### ■ 활성 레코드

- 활성 레코드는 특수한 DTO 형태다
- 공개 변수가 있거나 비공개 변수에 조회/설정 함수가 있는 자료 구조지만,
- 대개 save 나 find와 같은 탐색 함수도 제공한다
