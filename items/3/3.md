# 3. 함수

- 어떤 프로그램이든 가장 기본적인 단위가 함수다.
  - 그러므로 함수를 잘 만들어야겠지?!
- 함수를 잘 만들기 위해서는

  1. 일기 쉽고 이해하기 쉽게
  2. 의도를 분명히 표현해서
  3. 직관적으로 파악할 수 있게 해야 한다

<br />

## 함수를 만드는 규칙

### 1. 작게 만들어라

함수가 명백하게 하나의 이야기를 담을 수 있도록 만들어라

- 블록과 들여쓰기
  - `if/else 문`, `while 문`에 들어가는 블록은 한 줄이어야 한다는 의미다
    - 대개 거기서 함수를 호출한다
  - 바깥을 감싸는 함수가 작아질 뿐 아니라, 블록 안에서 호출하는 함수 이름을 적절히 짓는다면 코드를 이해하기도 쉬워진다
  - 즉 중첩 구조가 생길만큼 함수가 커져서는 안된다는 뜻이다.

<br />

### 2. 한 가지만 해라

> 함수는 한 가지를 해야한다. 그 한가지를 잘 해야한다. 그 한가지만을 해야한다

- 지정된 함수 이름 아래에서 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한 가지 작업만 한다
- 함수가 `한 가지`만을 하는지 판단하는 방법 중 하나는
  - 단순히 다른 표현이 아니라 의미있는 이름으로 다른 함수를 추출할 수 있다면 그 함수는 여러 작업을 하는 셈이다

<br />

### 3. 함수 당 추상화 수준은 하나로!

- 함수가 확실히 `한 가지` 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야 한다
  - 함수 내에서 추상화 수준(상/중/하)을 섞으면 코드를 읽는 사람이 헷갈린다
  - 특정 표현이 근본 개념인지 아니면 세부 사항인지 구분하기 어렵기 때문
  - 근본 개념과 세부사항을 뒤섞기 시작하면 함수에 세부사항을 점점더 추가하게 되므로 추상화 수준이 동일해야 한다

#### ■ 위에서 아래로 코드 읽기: 내려가기 규칙

- 코드는 위에서 아래로 이야기처럼 읽혀야 좋다
  - 한 함수 다음에는 추상화 수준이 한 단계 낮은 함수가 온다.
  - 즉, 위에서 아래로 프로그램을 읽으면 함수 추상화 수준이 한 번에 한 단계씩 낮아진다. 이것을 내려가기 규칙이라 부른다

<br />

### 4. `Switch 문`

- `switch 문`은 작게 만들기 어렵다
- `한 가지` 작업만 하는 `switch 문`도 만들기 어렵다
- 하지만 다형성을 이용하면 좀 나아진다?!
- `switch 문`을 추상 팩토리에 꽁꽁 숨긴다..

<br />

### 5. 서술적인 이름을 사용하라

> 좋은 이름이 주는 가치를 기억해라!

- 코드를 읽으면서 짐작했던 기능을 각 루친이 그대로 수행한다면 깨끗한 코드라 불러도 좋다
- 한 가지만 하는 작은 함수에 좋은 이름을 붙인다면 깨끗한 코드를 작성하는 원칙에 절반은 성공했다고 할 수 있다
- 길고 서술적인 이름이,
  - 짧고 어려운 이름보다 좋다
  - 길고 서술적인 주석보다 좋다
- ⭐️ 함수 이름을 정할 때는
  - 여러 단어가 쉽게 읽히는 명명법을 사용한다
  - 여러 단어를 사용해 함수 기능을 잘 표현하는 이름을 선택한다

<br />

### 6. 함수 인수

- 함수에서 이상적인 인수 개수는 0개다

#### ■ 많이 쓰는 단항 형식

- 함수에 인수 1개를 넘기는 이유로 가장 흔한 경우는 두 가지다

  1. 하나는 인수에 질분을 던지는 경우
  2. 인수를 뭔가로 변환해 결과를 반환하는 경우

#### ■ 플래그 인수는 추하다

- 함수로 불리언 값을 넘기는 관례는 정말로 끔직하다

#### ■ 이항 함수

- 인수가 2개인 함수는 인수가 1개인 함수보다 이해하기 어렵다
- 이해하기 쉬운 이항 함수라면,, 좌표를 다루는 함수 정도?!

#### ■ 삼항 함수

- 인수가 3개인 함수는 인수가 2개인 함수보다 훨씬 더 이해하기 어렵다

#### ■ 인수 객체

- 인수가 2~3개 필요하다면 일부를 독자적인 클래스 변수로 선언할 가능성을 짚어본다

#### ■ 인수 목록 `...args`

- 떄로는 인수 개수가 가변적인 함수도 필요하다

  <br />

### 7. 부수 효과를 일으키지 마라

- 부수효과는 거짓말이다. 함수에서 한 가지를 하겠다고 약속하고선 `남몰래` 다른 짓도 하니까..

#### ■ 출력 인수

- 일반적으로 인수를 함수 입력으로 해석한다.
- 어느정도 연차가 쌓였다면 인수를 출력으로 사용하는 함수에 어색함을 느끼리라

<br />

### 8. 명령과 조회를 분리하라

- 함수는 뭔가를 수행하거나 뭔가에 답하거나 둘 중 하나만 해야한다

<br />

### 9. 오류 코드보다 예외를 사용하라

- 명령 함수에서 오류 코드를 반환하는 방식은 명령/조회 분리 규칙을 미묘하게 위반한다.

#### ■ `try/catch` 블록 뽑아내기

- `try/catch` 블록은 원래 추하다. 코드 구조에 혼란을 일으키며, 정상 동작과 오류 처리 동작을 뒤섞는다
  - 그러므로 `try/catch` 블록을 별도 함수로 뽑아내는 편이 좋다

#### ■ 오류 처리도 한 가지 작업이다

- 함수는 `한 가지` 작업만 해야한다. 오류 처리도 `한 가지` 작업에 속한다

#### ■ `Error.java` 의존성 자석

- 오류 코드를 반환한다는 이야기는, 어디선가 오류 코드를 정의한다는 뜻이다

<br />

### 10. 반복하지 마라

<br />

### 11. 구조적 프로그래밍

- 함수는 `return` 문이 하나여야 한다

<br />

### 12. 함수를 어떻게 짜죠?

- 소프트웨어를 짜는 행위는 여느 글짓기와 비슷하다
  - 먼저 생각을 기록한 후 읽게 좋게 다듬는다
